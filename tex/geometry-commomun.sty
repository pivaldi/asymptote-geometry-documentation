%%% geometry-commomun.sty ---

%% Author: Philippe Ivaldi
%% Version: $Id: geometry-commomun.sty,v 0.0 2011/06/27 Philippe Ivaldi Exp $

%% Put this file into your TEXINPUTS and the following into your preamble:
%% \usepackage[OPTIONS]{geometry-commomun}

%%% Code:

\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\def\@rcs@ $#1Date: #2 #3$$#4Revision: #5$ {%
  \ProvidesPackage{geometry-commomun}[#2 v#5 ]}
\@rcs@ $Date: 2011/06/27 22:22:28 $$Revision: 0.0 $

\DeclareOption{}{%%%
}

%% \DeclareOption*{\PassOptionsToPackage{\CurrentOption}{}}
\ExecuteOptions{}
\ProcessOptions



%%%% #############
%%%% Main code #
%%%% #############

\RequirePackage[a4paper,centering,
left=1cm,right=1cm,
top=1.5cm,bottom=2cm,
nohead,nomarginpar]{geometry}
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage{framed}
\RequirePackage[hyperref]{xcolor}
\RequirePackage{ifthen}
\RequirePackage{fancyvrb}
\RequirePackage{graphicx}
\RequirePackage{amsmath,amssymb}
\RequirePackage{mathrsfs}
\RequirePackage[hyperindex]{hyperref}
\RequirePackage{makeidx}
\RequirePackage[stable]{footmisc}
\RequirePackage{titlesec}
\RequirePackage[nottoc]{tocbibind}
\RequirePackage{units}
\RequirePackage{tabularx}
\RequirePackage[titles]{tocloft}
\RequirePackage{lmodern}
\RequirePackage{framed}
\RequirePackage{xspace}
\definecolor{bg-color}{rgb}{0.96,1,0.95}
\definecolor{shadecolor}{rgb}{0.96,1,0.95}
\definecolor{brick}{HTML}{7B0C00}

%File `pygmentizedformat.tex` Generated by calling `pygmentize -S default -f latex -a full`
\input{pygmentizedformat/default.tex} 


% *=======================================================*
% *.................Index sur une colonne.................*
\makeatletter
\renewenvironment{theindex}
{\if@twocolumn
  \@restonecolfalse
  \else
  \@restonecoltrue
  \fi
  \section*{\indexname}%
  \@mkboth{\MakeUppercase\indexname}%
  {\MakeUppercase\indexname}%
  \thispagestyle{plain}\parindent\z@
  \parskip\z@ \@plus .3\p@\relax
  \columnseprule \z@
  \columnsep 35\p@
  \let\item\@idxitem}
{\if@restonecol\onecolumn\else\clearpage\fi}
\makeatother
\newcommand*{\mainidx}[1]{\textbf{\hyperpage{#1}}}
% *=======================================================*

\newif\ifVcompile
\newcounter{example}
\stepcounter{example}

% *=======================================================*
% *..........Definition de l'environnement vasy...........*
% *=======================================================*
\fvset{resetmargins=true}
\makeatletter

\newsavebox{\image}

\newcommand{\vasy}[1]
{%
  \noindent\begin{shaded}
    \noindent\begin{tabularx}{\textwidth}{|X}
      \hspace*{0mm}\hfill\fcolorbox{white}{white}{%
        \includegraphics{./include/#1.pdf}}%
      \hfill\hspace*{0mm}\\\hline
      \vspace*{0mm}\BVerbatimInput[commandchars=\\\{\},fontfamily=tt]{./include/#1.tex}
    \end{tabularx}
  \end{shaded}
  \stepcounter{example}%
}

\newcommand{\bvasy}[1]
{%
  \sbox{\image}{\includegraphics{./include/#1.pdf}}%
  \noindent\begin{shaded}
    \noindent\begin{tabular}{c|c}\fcolorbox{white}{white}{\parbox[c]{\wd\image}{\usebox{\image}}}&
      \begin{tabularx}{\textwidth}{X}
        \vspace*{0mm}\BVerbatimInput[commandchars=\\\{\},fontfamily=tt]{./include/#1.tex}\\
      \end{tabularx}
    \end{tabular}
  \end{shaded}\stepcounter{example}%
}

\def\aVerbatim{\FV@Environment{Verbatim}{aVerbatim}}
\def\FVB@aVerbatim{\FVB@VerbatimOut{aVerbatim.aux}}%
\def\FVE@aVerbatim{%
  \FVE@VerbatimOut%
  \noindent\begin{shaded}\noindent\VerbatimInput[frame=none]{aVerbatim.aux}\end{shaded}
}
\DefineVerbatimEnvironment{aVerbatim}{aVerbatim}{}

\newcommand{\lang}{FR}
\newcounter{tmpfile}
\def\Vcolor{\FV@Environment{BVerbatim}{Vcolor}}
\def\FVB@Vcolor{\FVB@VerbatimOut{./vcolors/vcolor\thetmpfile\lang.asy}}%
\def\FVE@Vcolor{%
  \FVE@VerbatimOut%
  \ifVcompile\immediate\write18{../bin/pygmentize-wraper.sh ./vcolors/vcolor\thetmpfile\lang}\fi%
  \colorbox{bg-color}{\BVerbatimInput[commandchars=\\\{\},fontfamily=tt,baseline=t]{./vcolors/vcolor\thetmpfile\lang.tex}}%
  \stepcounter{tmpfile}%
  \par%
}
\DefineVerbatimEnvironment{Vcolor}{Vcolor}{}

\makeatother

\newcommand{\asymptote}{\textsc{asymptote}\xspace}
\newcommand{\Asymptote}{\textsc{asymptote}}
\newcommand\circonflexe{\^{}}
\renewcommand{\vec}[1]{\overrightarrow{#1}}
\newcommand{\code}[1]{\Verb+{#1}+}
\newcommand{\param}[1]{\Verb+{#1}+}
\newcommand{\mparam}[1]{\mbox{\param{#1}}}
\newenvironment{modif}{\color{red}\bf}{}
\newenvironment{ajout}{\color{red}\bf}{}

%%
%% TOC configuration.
%%

\setlength{\cftbeforesecskip}{0.1ex}
\setlength{\cftbeforesubsecskip}{0.1ex}
\renewcommand{\cftsecfont}{\normalfont}
\renewcommand{\cftsecpagefont}{\normalfont}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

%%
%% Configure titles.
%%

\titleformat{name=\section}{\normalfont\rmfamily\Large\bfseries\color{brick}}{\thesection.}{1em}{}
\titleformat{name=\section,numberless}{\normalfont\rmfamily\Large\bfseries\color{brick}}{}{0em}{}
\titleformat{name=\subsection}{\normalfont\rmfamily\Large\bfseries\color{brick}}{\thesubsection.}{1em}{}
\titleformat{name=\subsubsection}{\normalfont\rmfamily\large\bfseries\color{brick}}{\thesubsubsection.}{1em}{}


\endinput

%%% Local Variables:
%%% TeX-auto-save: nil
%%% TeX-auto-parse-length: 99999
%%% End:

